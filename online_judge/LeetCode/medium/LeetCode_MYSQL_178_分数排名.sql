/*
平台：LeetCode
题号：178
题目： 分数排名
难度：中等


题目要求：
查询分数的排名，按分数从高到低返回结果表

特殊要求：
1.分数从高到低排列
2.如果两个分数相等，两个分数的排名应该相同
3.排名相同的分数后，排名数应该是下一个连续的整数
4.降序

解题思路：
1.排名连续不跳过，所以使用dense_rank()

*/

-- ========== 我的解答 ==========
select 
  score,
  dense_rank() over(order by score desc) 'rank' 
from 
  Scores;
/*
执行结果：通过
提交时间：2026.2.21

关键学习点：
  -窗口函数：DENSE_RANK() 一行代码解决复杂排名问题
  -排名函数的选择：理解 ROW_NUMBER、RANK、DENSE_RANK 的区别

2. 易错点：
  -结果顺序可能不对
  -相同分数不同排名

学习收获：
1.从手动计算到窗口函数：学会用SQL的思维方式解决问题
2.理解业务需求："相同排名"和"连续排名"对应特定的SQL函数
3.性能意识：窗口函数通常比子查询和变量更高效
