
/*
平台：牛客网
题号：30
题目： 统计每种性别的人数
难度：中等


题目要求：
统计用户提交表中每个性别的参赛者数量


特殊要求：

1.字符串处理：性别信息不是独立字段，而是嵌在逗号分隔的字符串中
2.准确提取：需要从复杂字符串中准确提取最后一个逗号后的内容
3.分组统计：按提取出的性别进行分组计数

解题思路：

数据提取：使用 SUBSTRING_INDEX() 函数从 profile 字段中提取性别

分组统计：使用 GROUP BY 按性别分组

计数统计：使用 COUNT(*) 统计每组的记录数

*/

-- ========== 我的解答 ==========
select 
  substring_index(profile,',',-1) gender,
  count(*) number 
from 
  user_submit 
group by gender;
/*
执行结果：通过
提交时间：2026.2.2

关键学习点：

  1.substring_index()函数的使用
  2.字段别名
     -使用as 为计算机字段指定有意义的别名
     -提高查询结果的可读性
  3.分组统计

易错点：

1.排序问题，要注意结果顺序
2.substring_index函数参数
3.注意分组的字段


学习收获：
1.将字符串函数与聚合函数结合使用解决实际问题
2.通过合理使用别名提高 SQL 代码的可维护性
3.学会分析数据存储格式，选择合适的数据提取方法
